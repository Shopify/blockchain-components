---
id: getting-started
title: Getting Started
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

This page serves as a quick guide to getting you up and running with the `@shopify/connect-wallet` package.

## Installation

<Tabs>
  <TabItem value="npm" label="npm">

```console
npm i @shopify/connect-wallet ethers wagmi
```

  </TabItem>
  <TabItem value="yarn" label="yarn" default>

```console
yarn add @shopify/connect-wallet ethers wagmi
```

  </TabItem>
  <TabItem value="pnpm" label="pnpm">

```console
pnpm i @shopify/connect-wallet ethers wagmi
```

  </TabItem>
</Tabs>

## Wagmi Configuration

We recommend creating a new file outside of your applications root file. In some frameworks this is `index.tsx`, and in others it may be something such as `_app.tsx`.

Create a file, `connect-wallet-config.ts`, with the following contents:

```typescript
import {getDefaultConnectors} from '@shopify/connect-wallet';
import {configureChains, createClient} from 'wagmi';
import {mainnet} from 'wagmi/chains';
/**
 * It is strongly recommended to make use of `alchemyProvider`
 * or `infuraProvider` in order to reduce the risk of your
 * storefront being rate limited.
 */
// import {alchemyProvider} from 'wagmi/providers/alchemy';
import {publicProvider} from 'wagmi/providers/public';

const {chains, provider, webSocketProvider} = configureChains(
  [mainnet],
  [
    // alchemyProvider({apiKey: 'INSERT API KEY HERE'}),
    publicProvider(),
  ],
);

const {connectors} = getDefaultConnectors({chains});

const client = createClient({
  autoConnect: true,
  connectors,
  provider,
  webSocketProvider,
});

export {chains, client};
```

## Providers

Now that your client and chains are configured, let's put them to work. In your application's index file, wrap the rendered component with both a `WagmiConfig` and the `ConnectWalletProvider`.

```typescript
import {ConnectWalletProvider} from '@shopify/connect-wallet';
import {WagmiConfig} from 'wagmi';

import {chains, client} from './connect-wallet-config'

export function Index() {
  return (
    <WagmiConfig client={client}>
      <ConnectWalletProvider chains={chains}>
        /* {...your app content here} */
      </ConnectWalletProvider>
    </WagmiConfig>
  );
}
```

## Connect button

Now that everything is configured, let's add the `ConnectButton` to your application.

This example shows a pseudo code version of including the `ConnectButton` component in your navigation header, but it can be placed anywhere in your application that you'd like.

```typescript
import {ConnectButton} from '@shopify/connect-wallet';

export const Header = () => {
  return (
    <MyHeaderMarkup>
      {...Logo}
      <Links>
        {...links}
        <ConnectButton />
      </Links>
    </MyHeaderMarkup>
  );
}
```

:::note Don't like our connect button?

All good! You can replace our button with your own and use the connection modal's hook for controlling the connection modal state.

```typescript
import {useConnectionModal} from '@shopify/connect-wallet';

export const MyConnectButton = () => {
  const {openModal} = useConnectionModal();

  return (
    <Button
      onClick={openModal}
      ...otherProps
    />
  );
}
```

:::

## Additional setup

Additional setup may be required depending on the tooling of your project.

### Polyfills

If you're using a bundler such as Vite which doesn't provide Node polyfills, you will be required to polyfill `global`, `Buffer`, and `process.env`. There are many approaches for accomplishing this.

<Tabs>
  <TabItem value="vite-plugin-node-stdlib-browser" label="vite-plugin-node-stdlib-browser" default>

[View on npm](https://github.com/sodatea/vite-plugin-node-stdlib-browser)

```typescript title="vite.config.ts"
export default defineConfig({
  ...existingConfig,
  plugins: [
    ...yourOtherPlugins,
    nodePolyfills(),
  ],
});
```

  </TabItem>
  <TabItem value="@esbuild-plugins/node-globals-polyfill" label="@esbuild-plugins/node-globals-polyfill">

[View on npm](https://www.npmjs.com/package/@esbuild-plugins/node-globals-polyfill)

```typescript title="vite.config.ts"
export default defineConfig({
  ...existingConfig,
  optimizeDeps: {
    esbuildOptions: {
      define: {
        global: "globalThis",
      },
      plugins: [
        GlobalsPolyfills({
          process: true,
          buffer: true,
        }),
      ],
    },
  },
});
```

  </TabItem>
  <TabItem value="polyfills.ts" label="polyfills.ts">

```typescript title="polyfills.ts"
import {Buffer} from 'buffer';

window.Buffer = window.Buffer ?? Buffer;
window.global = window.global ?? window;
window.process = window.process ?? { env: {} };

export {};
```

Then, in your index file, import the newly created `polyfills.ts` file

```typescript title="index.tsx"
import './polyfills';

{/* ...remaining file markup */}
```

  </TabItem>
</Tabs>

### Remix

When using Remix, you will need to ensure that you add `@shopify/connect-wallet` to the list of server dependencies since Connect Wallet is published as an ESM package.

```javascript title="remix.config.js"
/** @type {import('@remix-run/dev').AppConfig} */
module.exports = {
  serverDependenciesToBundle: ["@shopify/connect-wallet"],
  // ...
};
```
