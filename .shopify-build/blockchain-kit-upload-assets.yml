containers:
  publish-container:
    environment: production
    build:
      from: ubuntu-latest
      run:
        - yarn build --filter=tokengating-card
        - mkdir -p assets/tokengating-card && cp -R packages/tokengating-card/dist/index.js assets/tokengating-card/index.js
      publish:
        cdn:
          artifacts:
            - path: 'assets'
              patterns: ['*.html', '**/*.js']

steps:
  - build: publish-container
